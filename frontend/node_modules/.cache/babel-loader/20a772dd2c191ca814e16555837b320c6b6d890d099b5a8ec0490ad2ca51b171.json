{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_file_input = _resolveComponent(\"v-file-input\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_alert = _resolveComponent(\"v-alert\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_cache[2] || (_cache[2] = _createElementVNode(\"h2\", null, \"Upload Microbiome Data\", -1 /* HOISTED */)), _createVNode(_component_v_file_input, {\n      modelValue: $data.file,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.file = $event),\n      label: \"Choose a CSV file\",\n      accept: \".csv\",\n      outlined: \"\",\n      dense: \"\"\n    }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_v_btn, {\n      onClick: $options.submit,\n      color: \"primary\",\n      class: \"mt-4\"\n    }, {\n      default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"Submit\")])),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"]), $data.error ? (_openBlock(), _createBlock(_component_v_alert, {\n      key: 0,\n      type: \"error\",\n      class: \"mt-2\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.error), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    })) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_container","default","_withCtx","_createElementVNode","_createVNode","_component_v_file_input","modelValue","$data","file","_cache","$event","label","accept","outlined","dense","_component_v_btn","onClick","$options","submit","color","class","_createTextVNode","_","error","_component_v_alert","key","type","_toDisplayString","_createCommentVNode"],"sources":["/Users/achik/gatorbiome-full/GatorBiome/frontend/src/views/UploadView.vue"],"sourcesContent":["<template>\n    <v-container>\n      <h2>Upload Microbiome Data</h2>\n      <v-file-input\n        v-model=\"file\"\n        label=\"Choose a CSV file\"\n        accept=\".csv\"\n        outlined\n        dense\n      />\n      <v-btn @click=\"submit\" color=\"primary\" class=\"mt-4\">Submit</v-btn>\n      <v-alert v-if=\"error\" type=\"error\" class=\"mt-2\">{{ error }}</v-alert>\n    </v-container>\n  </template>\n  \n  <script>\n  export default {\n    data() {\n      return {\n        file: null,\n        error: null\n      }\n    },\n    methods: {\n      async submit() {\n        if (!this.file) {\n          this.error = 'Please select a file first.'\n          return\n        }\n  \n        const formData = new FormData()\n        formData.append('file', this.file)\n  \n        try {\n          const res = await fetch('/api/upload/', {\n            method: 'POST',\n            body: formData\n          })\n  \n          const result = await res.json()\n          this.$router.push({ name: 'results', params: { data: result } })\n        } catch (err) {\n          this.error = 'Upload failed. Try again.'\n        }\n      }\n    }\n  }\n  </script>\n  "],"mappings":";;;;;;uBACIA,YAAA,CAWcC,sBAAA;IAZlBC,OAAA,EAAAC,QAAA,CAEM,MAA+B,C,0BAA/BC,mBAAA,CAA+B,YAA3B,wBAAsB,sBAC1BC,YAAA,CAMEC,uBAAA;MATRC,UAAA,EAIiBC,KAAA,CAAAC,IAAI;MAJrB,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAIiBH,KAAA,CAAAC,IAAI,GAAAE,MAAA;MACbC,KAAK,EAAC,mBAAmB;MACzBC,MAAM,EAAC,MAAM;MACbC,QAAQ,EAAR,EAAQ;MACRC,KAAK,EAAL;6CAEFV,YAAA,CAAkEW,gBAAA;MAA1DC,OAAK,EAAEC,QAAA,CAAAC,MAAM;MAAEC,KAAK,EAAC,SAAS;MAACC,KAAK,EAAC;;MAVnDnB,OAAA,EAAAC,QAAA,CAU0D,MAAMO,MAAA,QAAAA,MAAA,OAVhEY,gBAAA,CAU0D,QAAM,E;MAVhEC,CAAA;oCAWqBf,KAAA,CAAAgB,KAAK,I,cAApBxB,YAAA,CAAqEyB,kBAAA;MAX3EC,GAAA;MAW4BC,IAAI,EAAC,OAAO;MAACN,KAAK,EAAC;;MAX/CnB,OAAA,EAAAC,QAAA,CAWsD,MAAW,CAXjEmB,gBAAA,CAAAM,gBAAA,CAWyDpB,KAAA,CAAAgB,KAAK,iB;MAX9DD,CAAA;UAAAM,mBAAA,e;IAAAN,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}